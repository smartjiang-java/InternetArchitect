
## 01:高并发,负载均衡,高可用
不要因为技术而技术
计算机是软件工程学,强调的是分层解耦 ,OSI分层参考模型

协议是什么?  
1:socket(套接字通信)  tcp建立通信,先从传输控制层开始向下,返回一个连接,才开始应用层
2:传输数据(http协议:规范标准)

用户态
应用层:http,ssh协议  浏览器使用http协议,虚拟机使用ssh协议,发邮件smtp协议

以下是内核态
传输控制层:tcp udp   
tcp面向连接(有确认),可靠的 三次握手(双方的输入和输出都保证),四次挥手 
udp是非面向连接,不可靠的

网络层:

链路层:

物理层:



对外隐藏，对内可见：将 arp_igore设置为1，app_announce设置为2
现在os内核一般都带有lvs负载均衡模块，模块名称叫做ipvs   需要装一个软件ipvsadm，让这个模块和外界交互

[负载均衡动态负载算法]：
这个负载均衡器均有偷窥能力,当一个数据包(服务端域客户端第一次握手)来到负载均衡器的时候，窥视数据包的目标ip,并记录下来，知道数据包发给谁了;
第二次握手可能无法知道，但是第三次握手的时候，负载均衡器是可以再次偷窥到的，此时给服务器数量加1;断开原理也是如此。

实验手册：
VMware 提供虚拟网络net模式  虚拟的服务器主机  在windows中虚拟出来一块网卡
VMware 提供虚拟网络net模式  虚拟的服务器主机  在windows中虚拟出来一块网卡

数据包包着数据包，常见的技术如VPN，翻墙
来的时候经过负载均衡，走的时候直接由服务端返回

一块物理网卡上可以有几个不同的地址

lo本地回环地址 ,这是虚拟网卡地址，内核知道有，外界不知道有，所以需要将目标地址配置到回环地址上。

